{"ast":null,"code":"var _jsxFileName = \"/Users/riteesh/Desktop/GitHub/FrontEnd_WebD_Project/INFO6150_WebDesign_FinalProject_Client-main/web_app/src/screens/Payment.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllDrivers, placeOrder, sendEmail } from \"../actions/orderAction\";\nimport { useLocation } from \"react-router-dom\";\nimport axios from \"axios\"; // get user location and total amount and handle change in address form\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Payment = () => {\n  _s();\n\n  const orpderPlacedDOM = document.getElementsByClassName(\"order_placed\")[0];\n  const driverDetailsDOM = document.getElementsByClassName(\"driver-details\")[0];\n  const getdriversstate = useSelector(state => state.getAllDriversReducer);\n  const {\n    loading,\n    error,\n    drivers\n  } = getdriversstate;\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const {\n    subtotal\n  } = location.state;\n  const [address, setAddress] = useState(null);\n  var driverName = \"\";\n  useEffect(() => {\n    dispatch(getAllDrivers());\n  }, []);\n\n  const handleChange = e => {\n    let updatedValue = {};\n    updatedValue = {\n      [e.target.name]: e.target.value\n    };\n    setAddress(address => ({ ...address,\n      ...updatedValue\n    }));\n  }; //prevent the page from reloading after click and dispatch the place order method\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    orpderPlacedDOM.textContent = \"Order placed successfully!\";\n    getRanndDriver();\n    dispatch(placeOrder(address, subtotal));\n    dispatch(sendEmail(driverName));\n    localStorage.removeItem(\"cartProducts\");\n  };\n\n  const getRanndDriver = () => {\n    if (drivers) {\n      driverName = drivers[Math.floor(Math.random() * drivers.length)].name;\n      driverDetailsDOM.textContent = driverName + \" will deliver your order\";\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Address\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Door No:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"DoorNo\",\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Street Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"StreetName\",\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"City:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"City\",\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Zipcode:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"Zipcode\",\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Card details:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"payment\",\n      children: [\"Number of your Card:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        minLength: 16,\n        maxLength: 16,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"payment-1\",\n      children: [\"Expiry date:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"payment-2\",\n      children: [\"CVV:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        minLength: 3,\n        maxLength: 3,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      value: \"Place Order\",\n      className: \"place_order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"order_placed text-success\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"driver-details text-success\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Payment, \"v/jA2jIm2HNnbqf96g+NlOG1kOI=\", false, function () {\n  return [useSelector, useDispatch, useLocation];\n});\n\n_c = Payment;\nexport default Payment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"sources":["/Users/riteesh/Desktop/GitHub/FrontEnd_WebD_Project/INFO6150_WebDesign_FinalProject_Client-main/web_app/src/screens/Payment.js"],"names":["useState","useEffect","useDispatch","useSelector","getAllDrivers","placeOrder","sendEmail","useLocation","axios","Payment","orpderPlacedDOM","document","getElementsByClassName","driverDetailsDOM","getdriversstate","state","getAllDriversReducer","loading","error","drivers","dispatch","location","subtotal","address","setAddress","driverName","handleChange","e","updatedValue","target","name","value","handleSubmit","preventDefault","textContent","getRanndDriver","localStorage","removeItem","Math","floor","random","length"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllDrivers, placeOrder, sendEmail } from \"../actions/orderAction\";\nimport { useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\n\n// get user location and total amount and handle change in address form\nconst Payment = () => {\n  const orpderPlacedDOM = document.getElementsByClassName(\"order_placed\")[0];\n  const driverDetailsDOM = document.getElementsByClassName(\"driver-details\")[0];\n\n  const getdriversstate = useSelector((state) => state.getAllDriversReducer);\n  const { loading, error, drivers } = getdriversstate;\n\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const { subtotal } = location.state;\n  const [address, setAddress] = useState(null);\n  var driverName = \"\";\n\n  useEffect(() => {\n    dispatch(getAllDrivers());\n  }, []);\n\n  const handleChange = (e) => {\n    let updatedValue = {};\n    updatedValue = { [e.target.name]: e.target.value };\n    setAddress((address) => ({\n      ...address,\n      ...updatedValue,\n    }));\n  };\n  //prevent the page from reloading after click and dispatch the place order method\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    orpderPlacedDOM.textContent = \"Order placed successfully!\";\n    getRanndDriver();\n    dispatch(placeOrder(address, subtotal));\n    dispatch(sendEmail(driverName));\n    localStorage.removeItem(\"cartProducts\");\n  };\n  const getRanndDriver = () => {\n    if (drivers) {\n      driverName = drivers[Math.floor(Math.random() * drivers.length)].name;\n      driverDetailsDOM.textContent = driverName + \" will deliver your order\";\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <h3>Address</h3>\n      <label>\n        Door No:\n        <input type=\"text\" name=\"DoorNo\" onChange={handleChange} required />\n      </label>\n      <label>\n        Street Name:\n        <input type=\"text\" name=\"StreetName\" onChange={handleChange} required />\n      </label>\n      <label>\n        City:\n        <input type=\"text\" name=\"City\" onChange={handleChange} required />\n      </label>\n      <label>\n        Zipcode:\n        <input type=\"text\" name=\"Zipcode\" onChange={handleChange} required />\n      </label>\n      <h3>Card details:</h3>\n      <label className=\"payment\">\n        Number of your Card:\n        <input type=\"text\" minLength={16} maxLength={16} required />\n      </label>\n      <br></br>\n      <label className=\"payment-1\">\n        Expiry date:\n        <input type=\"text\" />\n      </label>\n      <br></br>\n      <label className=\"payment-2\">\n        CVV:\n        <input type=\"text\" minLength={3} maxLength={3} required/>\n      </label>\n      <br></br>\n      <input type=\"submit\" value=\"Place Order\" className=\"place_order\" />\n\n      <p className=\"order_placed text-success\"></p>\n      <p className=\"driver-details text-success\"></p>\n    </form>\n  );\n};\n\nexport default Payment;\n"]},"metadata":{},"sourceType":"module"}