{"ast":null,"code":"var _jsxFileName = \"/Users/riteesh/Desktop/GitHub/FrontEnd_WebD_Project/INFO6150_WebDesign_FinalProject_Client-main/web_app/src/components/Checkout.js\",\n    _s = $RefreshSig$();\n\n// import React from \"react\";\n// import { useHistory } from \"react-router-dom\";\n// import { Link } from 'react-router-dom'\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport StripeCheckout from 'react-stripe-checkout';\nimport { placeOrder } from '../actions/orderAction';\nimport Error from \"../components/Error\";\nimport Loading from \"../components/Loading\";\nimport Success from '../components/Success';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Checkout(_ref) {\n  _s();\n\n  let {\n    subtotal\n  } = _ref;\n  //use previous data for checkout \n  // const history = useHistory();   //hook to get previous data from browser\n  // const routeChange = () =>{ \n  //   history.push({pathname:'/payment',\n  //   state:{subtotal:{subtotal}}\n  // });\n  // }\n  const orderstate = useSelector(state => state.placeOrderReducer);\n  const {\n    loading,\n    error,\n    success\n  } = orderstate;\n  const dispatch = useDispatch();\n\n  function tokenHander(token) {\n    console.log(token);\n    dispatch(placeOrder(token, subtotal));\n  }\n\n  return (\n    /*#__PURE__*/\n    // <div>\n    //       <Link className=\"btn payment-btn bg-primary mt-5 text-light\"\n    //         to={{\n    //           pathname: '/payment',\n    //           state: { subtotal: {subtotal} }\n    //         }}\n    //         >Pay Now</Link>\n    // </div>\n    _jsxDEV(\"div\", {\n      children: [loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 26\n      }, this), error && /*#__PURE__*/_jsxDEV(Error, {\n        error: \"Something went wrong\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 24\n      }, this), success && /*#__PURE__*/_jsxDEV(Success, {\n        success: \"Your Order Placed Successfully\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(StripeCheckout, {\n        amount: subtotal * 100,\n        shippingAddress: true,\n        token: tokenHander,\n        stripeKey: \"pk_test_51Ks8XVIX6jiHQ1671tYMm0psQmefPAJKrJIHrRUJyLKmNPmNqfym39ts7zfNx1U1n6UhtYgys9HMX7WROKui30a500AfDBblw4\",\n        currency: \"USD\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn bg-dark mt-3 text-light\",\n          children: \"Pay Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this)\n  );\n}\n\n_s(Checkout, \"Stn+NgRur1q2HPQKM1tkY/EImCo=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"sources":["/Users/riteesh/Desktop/GitHub/FrontEnd_WebD_Project/INFO6150_WebDesign_FinalProject_Client-main/web_app/src/components/Checkout.js"],"names":["React","useDispatch","useSelector","StripeCheckout","placeOrder","Error","Loading","Success","Checkout","subtotal","orderstate","state","placeOrderReducer","loading","error","success","dispatch","tokenHander","token","console","log"],"mappings":";;;AAAA;AACA;AACA;AAGA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,EAAsBC,WAAtB,QAAwC,aAAxC;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,OAAP,MAAoB,uBAApB;;AAIA,eAAe,SAASC,QAAT,OAAgC;AAAA;;AAAA,MAAd;AAAEC,IAAAA;AAAF,GAAc;AAAI;AAEjD;AACA;AACA;AACA;AACA;AACA;AAEA,QAAMC,UAAU,GAAGR,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACC,iBAAlB,CAA9B;AACE,QAAM;AAACC,IAAAA,OAAD;AAAWC,IAAAA,KAAX;AAAmBC,IAAAA;AAAnB,MAA8BL,UAApC;AACA,QAAMM,QAAQ,GAAGf,WAAW,EAA5B;;AACA,WAASgB,WAAT,CAAqBC,KAArB,EACA;AACIC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAF,IAAAA,QAAQ,CAACZ,UAAU,CAACc,KAAD,EAAST,QAAT,CAAX,CAAR;AAEH;;AAKH;AAAA;AACE;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA,iBAESI,OAAO,iBAAK,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cAFrB,EAGSC,KAAK,iBAAK,QAAC,KAAD;AAAO,QAAA,KAAK,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAHnB,EAISC,OAAO,iBAAK,QAAC,OAAD;AAAS,QAAA,OAAO,EAAC;AAAjB;AAAA;AAAA;AAAA;AAAA,cAJrB,eAMQ,QAAC,cAAD;AACA,QAAA,MAAM,EAAEN,QAAQ,GAAC,GADjB;AAEA,QAAA,eAAe,MAFf;AAGA,QAAA,KAAK,EAAEQ,WAHP;AAIA,QAAA,SAAS,EAAC,6GAJV;AAKA,QAAA,QAAQ,EAAC,KALT;AAAA,+BASM;AAAQ,UAAA,SAAS,EAAC,6BAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATN;AAAA;AAAA;AAAA;AAAA,cANR;AAAA;AAAA;AAAA;AAAA;AAAA;AAVF;AA+BD;;GArDuBT,Q;UASHN,W,EAEAD,W;;;KAXGO,Q","sourcesContent":["// import React from \"react\";\n// import { useHistory } from \"react-router-dom\";\n// import { Link } from 'react-router-dom'\n\n\nimport React from 'react'\nimport {useDispatch , useSelector} from 'react-redux'\nimport StripeCheckout from 'react-stripe-checkout'\nimport { placeOrder } from '../actions/orderAction'\nimport Error from \"../components/Error\";\nimport Loading from \"../components/Loading\";\nimport Success from '../components/Success'\n\n\n\nexport default function Checkout({ subtotal }) {   //use previous data for checkout \n\n  // const history = useHistory();   //hook to get previous data from browser\n  // const routeChange = () =>{ \n  //   history.push({pathname:'/payment',\n  //   state:{subtotal:{subtotal}}\n  // });\n  // }\n\n  const orderstate = useSelector((state) => state.placeOrderReducer)\n    const {loading , error , success} = orderstate\n    const dispatch = useDispatch()\n    function tokenHander(token)\n    {\n        console.log(token);\n        dispatch(placeOrder(token , subtotal))\n\n    }\n\n\n\n\n  return (\n    // <div>\n    //       <Link className=\"btn payment-btn bg-primary mt-5 text-light\"\n    //         to={{\n    //           pathname: '/payment',\n    //           state: { subtotal: {subtotal} }\n    //         }}\n\n    //         >Pay Now</Link>\n    // </div>\n    <div>\n            \n            {loading && (<Loading/>)}\n            {error && (<Error error='Something went wrong'/>)}\n            {success && (<Success success='Your Order Placed Successfully'/>)}\n\n            <StripeCheckout\n            amount={subtotal*100}\n            shippingAddress\n            token={tokenHander}\n            stripeKey='pk_test_51Ks8XVIX6jiHQ1671tYMm0psQmefPAJKrJIHrRUJyLKmNPmNqfym39ts7zfNx1U1n6UhtYgys9HMX7WROKui30a500AfDBblw4'\n            currency='USD'\n            >\n\n                  \n                  <button className='btn bg-dark mt-3 text-light'>Pay Now</button>\n\n            </StripeCheckout>\n            \n        </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}