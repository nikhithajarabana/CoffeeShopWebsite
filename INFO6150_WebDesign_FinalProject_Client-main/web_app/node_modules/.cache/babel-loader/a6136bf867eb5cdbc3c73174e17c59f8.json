{"ast":null,"code":"import axios from \"axios\";\nexport const getAllitems = () => async dispatch => {\n  dispatch({\n    type: \"GET_ITEMS_REQUEST\"\n  });\n\n  try {\n    const response = await axios.get(\"/api/items/getAllitems\"); // call backend api to get all items and fetch response \n\n    dispatch({\n      type: \"GET_ITEMS_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"GET_ITEMS_FAILED\",\n      payload: error\n    });\n  }\n};\nexport const filterItems = (searchkey, category) => async dispatch => {\n  var filteredItems;\n  dispatch({\n    type: \"GET_ITEMS_REQUEST\"\n  });\n\n  try {\n    const response = await axios.get(\"/api/items/getAllitems\"); // call backend api to get all items and fetch response \n\n    filteredItems = response.data.filter(item => item.name.toLowerCase().includes(searchkey.toLowerCase()));\n\n    if (category != 'all') {\n      filteredItems = response.data.filter(item => item.category.toLowerCase() == category.toLowerCase());\n    }\n\n    dispatch({\n      type: \"GET_ITEMS_SUCCESS\",\n      payload: filteredItems\n    });\n  } catch (error) {\n    dispatch({\n      type: \"GET_ITEMS_FAILED\",\n      payload: error\n    });\n  }\n};\nexport const addItem = item => async dispatch => {\n  //add new items\n  dispatch({\n    type: 'ADD_ITEM_REQUEST'\n  });\n\n  try {\n    const response = await axios.post('/api/items/additem', {\n      item\n    }); //get new items from callback api and fetch response\n\n    dispatch({\n      type: 'ADD_ITEM_SUCCESS'\n    });\n  } catch (error) {\n    dispatch({\n      type: 'ADD_ITEM_FAILED',\n      payload: error\n    });\n  }\n};\nexport const getItemById = itemId => async dispatch => {\n  dispatch({\n    type: \"GET_ITEM_BY_ID_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/items/getItemById\", {\n      itemId\n    });\n    dispatch({\n      type: \"GET_ITEM_BY_ID_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"GET_ITEM_BY_ID_FAILED\",\n      payload: error\n    });\n  }\n};\nexport const editItem = updatedItem => async dispatch => {\n  dispatch({\n    type: 'EDIT_ITEM_REQUEST'\n  });\n\n  try {\n    const response = await axios.post('/api/items/edititem', {\n      updatedItem\n    });\n    dispatch({\n      type: 'EDIT_ITEM_SUCCESS'\n    });\n  } catch (error) {\n    dispatch({\n      type: 'EDIT_ITEM_FAILED',\n      payload: error\n    });\n  }\n};\nexport const deleteItem = itemId => async dispatch => {\n  try {\n    const response = await axios.post('/api/items/deleteitem', {\n      itemId\n    });\n    alert('Item Deleted Successfully');\n    window.location.reload();\n  } catch (error) {\n    alert('something wwent wrong');\n    console.log(error);\n  }\n};","map":{"version":3,"sources":["/Users/riteesh/Desktop/GitHub/FrontEnd_WebD_Project/INFO6150_WebDesign_FinalProject_Client-main/web_app/src/actions/itemActions.js"],"names":["axios","getAllitems","dispatch","type","response","get","payload","data","error","filterItems","searchkey","category","filteredItems","filter","item","name","toLowerCase","includes","addItem","post","getItemById","itemId","editItem","updatedItem","deleteItem","alert","window","location","reload","console","log"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nexport const getAllitems = () => async (dispatch) => {\n  dispatch({ type: \"GET_ITEMS_REQUEST\" });\n  try {\n    const response = await axios.get(\"/api/items/getAllitems\");// call backend api to get all items and fetch response \n    dispatch({ type: \"GET_ITEMS_SUCCESS\", payload: response.data });\n  } catch (error) {\n    dispatch({ type: \"GET_ITEMS_FAILED\", payload: error });\n  }\n};\n\nexport const filterItems = (searchkey, category) => async (dispatch) => {\n  var filteredItems;\n  dispatch({ type: \"GET_ITEMS_REQUEST\" });\n  try {\n    const response = await axios.get(\"/api/items/getAllitems\");// call backend api to get all items and fetch response \n    filteredItems = response.data.filter(item => item.name.toLowerCase().includes(searchkey.toLowerCase()))\n    if(category != 'all')\n    {\n      filteredItems = response.data.filter(item => item.category.toLowerCase() == category.toLowerCase())\n    }\n    \n    dispatch({ type: \"GET_ITEMS_SUCCESS\", payload: filteredItems});\n  } catch (error) {\n    dispatch({ type: \"GET_ITEMS_FAILED\", payload: error });\n  }\n};\n\nexport const addItem=(item) =>async dispatch=>{       //add new items\n  dispatch({type:'ADD_ITEM_REQUEST'})\n  try {\n    const response = await axios.post('/api/items/additem',{item})  //get new items from callback api and fetch response\n    dispatch({type:'ADD_ITEM_SUCCESS'})\n  } catch (error) {\n    dispatch({type:'ADD_ITEM_FAILED',payload:error})\n  }\n}\n\nexport const getItemById = (itemId) => async (dispatch) => {\n  dispatch({ type: \"GET_ITEM_BY_ID_REQUEST\" });\n  try {\n    const response = await axios.post(\"/api/items/getItemById\",{itemId});\n    dispatch({ type: \"GET_ITEM_BY_ID_SUCCESS\", payload: response.data });\n  } catch (error) {\n    dispatch({ type: \"GET_ITEM_BY_ID_FAILED\", payload: error });\n  }\n};\n\nexport const editItem=(updatedItem) =>async dispatch=>{\n  dispatch({type:'EDIT_ITEM_REQUEST'})\n  try {\n    const response = await axios.post('/api/items/edititem',{updatedItem})\n    dispatch({type:'EDIT_ITEM_SUCCESS'})\n  } catch (error) {\n    dispatch({type:'EDIT_ITEM_FAILED',payload:error})\n  }\n}\n\nexport const deleteItem = (itemId) =>async  dispatch => {\n\ntry{\n const response =  await axios.post('/api/items/deleteitem', {itemId} )\n alert('Item Deleted Successfully')\n window.location.reload()\n}catch(error){\n  alert('something wwent wrong')\n  console.log(error)\n}\n\n}\n"]},"metadata":{},"sourceType":"module"}